(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{AewH:function(e,t,n){"use strict";n.r(t),n.d(t,"SedesPageModule",(function(){return z}));var o=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),c=n("tyNb"),a=n("mrSG"),r=n("ypJn"),l=n("fXoL"),b=n("BQIx"),d=n("ova0"),p=n("+nHt");let u=(()=>{class e{constructor(e,t,n,o,i){this.getService=e,this.postService=t,this.putService=n,this.toastCtrl=o,this.modalCtrl=i,this.url="sedes",this.sede=new r.a}ngOnInit(){null!=this.id&&this.getService.get(this.url,this.id).subscribe(e=>{e.success&&(this.sede=e.message)})}guardar(){return Object(a.a)(this,void 0,void 0,(function*(){null!=this.id?this.actualizarSede():this.crearSede()}))}crearSede(){this.postService.post(this.url,this.sede).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:e.message,position:"middle",duration:e.success?3e3:0,color:e.success?"success":"danger",buttons:e.success?[]:[{text:"Aceptar",role:"cancel"}]})).present(),e.success&&this.dismiss(e)})),e=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:e,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]})).present()})))}actualizarSede(){this.putService.put(this.url,this.id,this.sede).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:e.message,position:"middle",duration:e.success?3e3:0,color:e.success?"success":"danger",buttons:e.success?[]:[{text:"Aceptar",role:"cancel"}]})).present(),e.success&&this.dismiss(e)})),e=>Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:e,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]})).present()})))}dismiss(e){this.modalCtrl.dismiss(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(b.a),l.Jb(d.a),l.Jb(p.a),l.Jb(s.Q),l.Jb(s.J))},e.\u0275cmp=l.Db({type:e,selectors:[["app-detalle-sede"]],inputs:{id:"id"},decls:23,vars:3,consts:[[1,"modal-title"],["fill","clear","color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"click"]],template:function(e,t){1&e&&(l.Pb(0,"ion-header"),l.Pb(1,"ion-toolbar"),l.Pb(2,"ion-title"),l.Pb(3,"div",0),l.Pb(4,"span"),l.zc(5,"Maestro Sedes"),l.Ob(),l.Pb(6,"ion-button",1),l.Xb("click",(function(){return t.dismiss(null)})),l.Kb(7,"ion-icon",2),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Ob(),l.Pb(8,"ion-content",3),l.Pb(9,"ion-item"),l.Pb(10,"ion-label"),l.zc(11,"Nombre"),l.Ob(),l.Pb(12,"ion-input",4),l.Xb("ngModelChange",(function(e){return t.sede.nombre=e})),l.Ob(),l.Ob(),l.Pb(13,"ion-item"),l.Pb(14,"ion-label"),l.zc(15,"Direcci\xf3n"),l.Ob(),l.Pb(16,"ion-input",4),l.Xb("ngModelChange",(function(e){return t.sede.direccion=e})),l.Ob(),l.Ob(),l.Pb(17,"ion-item"),l.Pb(18,"ion-label"),l.zc(19,"Activo"),l.Ob(),l.Pb(20,"ion-checkbox",5),l.Xb("ngModelChange",(function(e){return t.sede.activo=e})),l.Ob(),l.Ob(),l.Pb(21,"ion-button",6),l.Xb("click",(function(){return t.guardar()})),l.zc(22,"Guardar"),l.Ob(),l.Ob()),2&e&&(l.yb(12),l.fc("ngModel",t.sede.nombre),l.yb(4),l.fc("ngModel",t.sede.direccion),l.yb(4),l.fc("ngModel",t.sede.activo))},directives:[s.m,s.E,s.D,s.c,s.n,s.g,s.r,s.u,s.q,s.P,i.h,i.j,s.e,s.a],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),e})();var m=n("RyMC"),h=n("rEr+"),f=n("7zfz"),g=n("jIHw"),P=n("arFO");function O(e,t){if(1&e){const e=l.Qb();l.Pb(0,"div",7),l.Pb(1,"p-button",8),l.Xb("click",(function(){return l.rc(e),l.Zb().mostrarModal(null)})),l.Ob(),l.Pb(2,"p-button",9),l.Xb("click",(function(){return l.rc(e),l.Zb(),l.pc(9).exportCSV()})),l.Ob(),l.Ob()}}function v(e,t){if(1&e&&(l.Pb(0,"span"),l.zc(1),l.Ob()),2&e){const e=t.$implicit;l.yb(1),l.Ac(e.label)}}function y(e,t){if(1&e){const e=l.Qb();l.Pb(0,"tr"),l.Pb(1,"th",10),l.zc(2,"Nombre "),l.Kb(3,"p-sortIcon",11),l.Ob(),l.Pb(4,"th",12),l.zc(5,"Direcci\xf3n "),l.Kb(6,"p-sortIcon",13),l.Ob(),l.Pb(7,"th",14),l.zc(8,"Estado "),l.Kb(9,"p-sortIcon",15),l.Ob(),l.Pb(10,"th",16),l.zc(11,"Acciones"),l.Ob(),l.Ob(),l.Pb(12,"tr"),l.Pb(13,"th"),l.Pb(14,"input",17),l.Xb("input",(function(t){return l.rc(e),l.Zb(),l.pc(9).filter(t.target.value,"nombre","contains")})),l.Ob(),l.Ob(),l.Pb(15,"th"),l.Pb(16,"input",18),l.Xb("input",(function(t){return l.rc(e),l.Zb(),l.pc(9).filter(t.target.value,"direccion","contains")})),l.Ob(),l.Ob(),l.Pb(17,"th"),l.Pb(18,"p-dropdown",19),l.Xb("onChange",(function(t){return l.rc(e),l.Zb(),l.pc(9).filter(t.value,"activo","equals")})),l.xc(19,v,2,1,"ng-template",20),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=l.Zb();l.yb(18),l.fc("options",e.statuses)("showClear",!0)}}function C(e,t){if(1&e){const e=l.Qb();l.Pb(0,"tr"),l.Pb(1,"td"),l.Pb(2,"span",21),l.zc(3,"Nombre "),l.Ob(),l.zc(4),l.Ob(),l.Pb(5,"td"),l.Pb(6,"span",21),l.zc(7,"Direcci\xf3n "),l.Ob(),l.zc(8),l.Ob(),l.Pb(9,"td"),l.Pb(10,"span",21),l.zc(11,"Estado "),l.Ob(),l.zc(12),l.Ob(),l.Pb(13,"td",22),l.Pb(14,"p-button",23),l.Xb("click",(function(){l.rc(e);const n=t.$implicit;return l.Zb().mostrarModal(n.id)})),l.Ob(),l.Ob(),l.Ob()}if(2&e){const e=t.$implicit;l.yb(4),l.Ac(e.nombre),l.yb(4),l.Ac(e.direccion),l.yb(4),l.Ac(1==e.activo?"Activo":"Inactivo")}}const w=function(){return[10,25,50]},x=[{path:"",component:(()=>{class e{constructor(e,t,n){this.getService=e,this.toastCtrl=t,this.modalCtrl=n,this.url="sedes",this.sedes=[],this.statuses=[{label:"Activo",value:"true"},{label:"Inactivo",value:"false"}],this.cols=[{field:"nombre",header:"Nombre"},{field:"direccion",header:"Direccion"},{field:"activo",header:"Estado"}]}ngOnInit(){this.obtenerSedes()}obtenerSedes(){this.getService.get(this.url).subscribe(e=>Object(a.a)(this,void 0,void 0,(function*(){e.success?this.sedes=e.message:((yield this.toastCtrl.create({message:e.message,position:"middle",buttons:[{text:"Aceptar",role:"cancel"}]})).present(),console.log(e.message))})))}mostrarModal(e){return Object(a.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:u,componentProps:{id:e},backdropDismiss:!1});t.present(),yield t.onWillDismiss().then(e=>{null!=e.data&&e.data.success&&this.obtenerSedes()})}))}}return e.\u0275fac=function(t){return new(t||e)(l.Jb(b.a),l.Jb(s.Q),l.Jb(s.J))},e.\u0275cmp=l.Db({type:e,selectors:[["app-sedes"]],decls:13,vars:7,consts:[["slot","start"],[1,"ion-padding"],["exportFilename","sedes","styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"columns","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["label","Agregar Nuevo","icon","pi pi-plus","iconPos","left",3,"click"],["label","Exportar a CSV","icon","pi pi-file-o","iconPos","left",3,"click"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","direccion"],["field","direccion"],["pSortableColumn","activo"],["field","activo"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Nombre",1,"p-column-filter",3,"input"],["pInputText","","type","text","placeholder","Buscar por Direcci\xf3n",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],["pTemplate","item"],[1,"p-column-title"],[1,"action-column"],["label","Editar","icon","pi pi-pencil","iconPos","left",3,"click"]],template:function(e,t){1&e&&(l.Pb(0,"ion-header"),l.Pb(1,"ion-toolbar"),l.Pb(2,"ion-buttons",0),l.Kb(3,"ion-menu-button"),l.Ob(),l.Pb(4,"ion-title"),l.zc(5," Sedes "),l.Ob(),l.Ob(),l.Kb(6,"app-user-menu"),l.Ob(),l.Pb(7,"ion-content",1),l.Pb(8,"p-table",2,3),l.xc(10,O,3,0,"ng-template",4),l.xc(11,y,20,2,"ng-template",5),l.xc(12,C,15,3,"ng-template",6),l.Ob(),l.Ob()),2&e&&(l.yb(8),l.fc("columns",t.cols)("value",t.sedes)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",l.hc(6,w)))},directives:[s.m,s.E,s.d,s.x,s.D,m.a,s.g,h.e,f.b,g.a,h.d,h.c,P.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),e})()}];let M=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(x)],c.i]}),e})();var S=n("m/q5");let z=(()=>{class e{}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[o.b,i.e,s.G,M,h.f,P.b,g.b,S.a]]}),e})()}}]);