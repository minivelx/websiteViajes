!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"3HbQ":function(e,i,a){"use strict";a.r(i),a.d(i,"ClientesPageModule",(function(){return G}));var o=a("ofXK"),r=a("3Pt+"),c=a("TEn/"),s=a("tyNb"),l=a("mrSG"),b=a("BsNa"),p=a("ypJn"),u=a("fXoL"),d=a("BQIx"),m=a("ova0"),f=a("+nHt"),g=a("jIHw"),h=a("rEr+"),v=a("7zfz"),P=a("arFO");function O(t,e){if(1&t&&(u.Pb(0,"span"),u.zc(1),u.Ob()),2&t){var n=e.$implicit;u.yb(1),u.Ac(n.label)}}function C(t,e){if(1&t){var n=u.Qb();u.Pb(0,"tr"),u.Pb(1,"th",12),u.zc(2,"Nombre "),u.Kb(3,"p-sortIcon",13),u.Ob(),u.Pb(4,"th",14),u.zc(5,"Direcci\xf3n "),u.Kb(6,"p-sortIcon",15),u.Ob(),u.Pb(7,"th",16),u.zc(8,"Estado "),u.Kb(9,"p-sortIcon",17),u.Ob(),u.Pb(10,"th",18),u.zc(11,"Acciones"),u.Ob(),u.Ob(),u.Pb(12,"tr"),u.Pb(13,"th"),u.Pb(14,"input",19),u.Xb("input",(function(t){return u.rc(n),u.Zb(),u.pc(19).filter(t.target.value,"nombre","contains")})),u.Ob(),u.Ob(),u.Pb(15,"th"),u.Pb(16,"input",20),u.Xb("input",(function(t){return u.rc(n),u.Zb(),u.pc(19).filter(t.target.value,"direccion","contains")})),u.Ob(),u.Ob(),u.Pb(17,"th"),u.Pb(18,"p-dropdown",21),u.Xb("onChange",(function(t){return u.rc(n),u.Zb(),u.pc(19).filter(t.value,"activo","equals")})),u.xc(19,O,2,1,"ng-template",22),u.Ob(),u.Ob(),u.Ob()}if(2&t){var i=u.Zb();u.yb(18),u.fc("options",i.statuses)("showClear",!0)}}function y(t,e){if(1&t){var n=u.Qb();u.Pb(0,"input",28),u.Xb("ngModelChange",(function(t){return u.rc(n),u.Zb().$implicit.nombre=t})),u.Ob()}if(2&t){var i=u.Zb().$implicit;u.fc("ngModel",i.nombre)}}function x(t,e){if(1&t&&u.Kb(0,"input",29),2&t){var n=u.Zb().$implicit;u.gc("value",n.nombre)}}function w(t,e){if(1&t){var n=u.Qb();u.Pb(0,"input",30),u.Xb("ngModelChange",(function(t){return u.rc(n),u.Zb().$implicit.direccion=t})),u.Ob()}if(2&t){var i=u.Zb().$implicit;u.fc("ngModel",i.direccion)}}function M(t,e){if(1&t&&u.Kb(0,"input",31),2&t){var n=u.Zb().$implicit;u.gc("value",n.direccion)}}var k=function(){return{width:"100%"}};function R(t,e){if(1&t){var n=u.Qb();u.Pb(0,"p-dropdown",32),u.Xb("ngModelChange",(function(t){return u.rc(n),u.Zb().$implicit.activo=t})),u.Ob()}if(2&t){var i=u.Zb().$implicit,a=u.Zb();u.vc(u.hc(4,k)),u.fc("options",a.statuses)("ngModel",i.activo)}}function S(t,e){if(1&t&&u.Kb(0,"input",33),2&t){var n=u.Zb().$implicit;u.gc("value",1==n.activo?"Activo":"Inactivo")}}function z(t,e){if(1&t){var n=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td",23),u.Pb(2,"p-cellEditor"),u.xc(3,y,1,1,"ng-template",24),u.xc(4,x,1,1,"ng-template",25),u.Ob(),u.Ob(),u.Pb(5,"td",23),u.Pb(6,"p-cellEditor"),u.xc(7,w,1,1,"ng-template",24),u.xc(8,M,1,1,"ng-template",25),u.Ob(),u.Ob(),u.Pb(9,"td",23),u.Pb(10,"p-cellEditor"),u.xc(11,R,1,5,"ng-template",24),u.xc(12,S,1,1,"ng-template",25),u.Ob(),u.Ob(),u.Pb(13,"td",26),u.Pb(14,"p-button",27),u.Xb("click",(function(){u.rc(n);var t=e.$implicit;return u.Zb().eliminarSede(t)})),u.Ob(),u.Ob(),u.Ob()}}var _,I=function(){return[10,25,50]},T=((_=function(){function e(n,i,a,o,r){t(this,e),this.getService=n,this.postService=i,this.putService=a,this.toastCtrl=o,this.modalCtrl=r,this.url="clientes",this.cliente=new b.a}return n(e,[{key:"ngOnInit",value:function(){var t=this;null!=this.id&&this.getService.get(this.url,this.id).subscribe((function(e){e.success&&(t.cliente=e.message)})),this.statuses=[{label:"Activo",value:!0},{label:"Inactivo",value:!1}]}},{key:"guardar",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!=this.id?this.actualizarCliente():this.crearCliente();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"crearCliente",value:function(){var t=this;this.postService.post(this.url,this.cliente).subscribe((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e.message,position:"middle",duration:e.success?3e3:0,color:e.success?"success":"danger",buttons:e.success?[]:[{text:"Aceptar",role:"cancel"}]});case 2:t.sent.present(),e.success&&this.dismiss(e);case 4:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}))}},{key:"actualizarCliente",value:function(){var t=this;this.putService.put(this.url,this.id,this.cliente).subscribe((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e.message,position:"middle",duration:e.success?3e3:0,color:e.success?"success":"danger",buttons:e.success?[]:[{text:"Aceptar",role:"cancel"}]});case 2:t.sent.present(),e.success&&this.dismiss(e);case 4:case"end":return t.stop()}}),t,this)})))}),(function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastCtrl.create({message:e,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}))}},{key:"dismiss",value:function(t){this.modalCtrl.dismiss(t)}},{key:"eliminarSede",value:function(t){this.cliente.lstSedes=this.cliente.lstSedes.filter((function(e){return e!==t}))}},{key:"agregarSede",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.cliente.lstSedes.push(new p.a);case 1:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(t){return new(t||_)(u.Jb(d.a),u.Jb(m.a),u.Jb(f.a),u.Jb(c.Q),u.Jb(c.J))},_.\u0275cmp=u.Db({type:_,selectors:[["app-detalle-cliente"]],inputs:{id:"id"},decls:24,vars:8,consts:[[1,"modal-title"],["fill","clear","color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["label","Agregar Sede","icon","pi pi-plus","iconPos","left",1,"primary-button","agregar-sede-button",3,"click"],["styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","header"],["pTemplate","body"],[3,"click"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","direccion"],["field","direccion"],["pSortableColumn","activo"],["field","activo"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Nombre",1,"p-column-filter",3,"input"],["pInputText","","type","text","placeholder","Buscar por Direcci\xf3n",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],["pTemplate","item"],["pEditableColumn",""],["pTemplate","input"],["pTemplate","output"],[1,"action-column"],["label","Eliminar","icon","pi pi-times","iconPos","left",1,"primary-button",3,"click"],["pInputText","","type","text","placeholder","Nombre",3,"ngModel","ngModelChange"],["pInputText","","type","text","placeholder","Nombre",3,"value"],["pInputText","","type","text","placeholder","Direcci\xf3n",3,"ngModel","ngModelChange"],["pInputText","","type","text","placeholder","Direcci\xf3n",3,"value"],[3,"options","ngModel","ngModelChange"],["pInputText","","type","text","placeholder","Estado",3,"value"]],template:function(t,e){1&t&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar"),u.Pb(2,"ion-title"),u.Pb(3,"div",0),u.Pb(4,"span"),u.zc(5,"Maestro Clientes"),u.Ob(),u.Pb(6,"ion-button",1),u.Xb("click",(function(){return e.dismiss(null)})),u.Kb(7,"ion-icon",2),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Ob(),u.Pb(8,"ion-content",3),u.Pb(9,"ion-item"),u.Pb(10,"ion-label"),u.zc(11,"Nombre"),u.Ob(),u.Pb(12,"ion-input",4),u.Xb("ngModelChange",(function(t){return e.cliente.nombre=t})),u.Ob(),u.Ob(),u.Pb(13,"ion-item"),u.Pb(14,"ion-label"),u.zc(15,"Activo"),u.Ob(),u.Pb(16,"ion-checkbox",5),u.Xb("ngModelChange",(function(t){return e.cliente.activo=t})),u.Ob(),u.Ob(),u.Pb(17,"p-button",6),u.Xb("click",(function(){return e.agregarSede()})),u.Ob(),u.Pb(18,"p-table",7,8),u.xc(20,C,20,2,"ng-template",9),u.xc(21,z,15,0,"ng-template",10),u.Ob(),u.Pb(22,"ion-button",11),u.Xb("click",(function(){return e.guardar()})),u.zc(23,"Guardar"),u.Ob(),u.Ob()),2&t&&(u.yb(12),u.fc("ngModel",e.cliente.nombre),u.yb(4),u.fc("ngModel",e.cliente.activo),u.yb(2),u.fc("value",e.cliente.lstSedes)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",u.hc(7,I)))},directives:[c.m,c.E,c.D,c.c,c.n,c.g,c.r,c.u,c.q,c.P,r.h,r.j,c.e,c.a,g.a,h.e,v.b,h.d,h.c,P.a,h.b,h.a,r.a],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.agregar-sede-button[_ngcontent-%COMP%]{margin:10px;display:flex;justify-content:flex-end}[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}.action-column[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]{margin:3px}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),_),Z=a("RyMC");function E(t,e){if(1&t){var n=u.Qb();u.Pb(0,"div",7),u.Pb(1,"p-button",8),u.Xb("click",(function(){return u.rc(n),u.Zb().mostrarModal(null)})),u.Ob(),u.Pb(2,"p-button",9),u.Xb("click",(function(){return u.rc(n),u.Zb(),u.pc(9).exportCSV()})),u.Ob(),u.Ob()}}function X(t,e){if(1&t&&(u.Pb(0,"span"),u.zc(1),u.Ob()),2&t){var n=e.$implicit;u.yb(1),u.Ac(n.label)}}function A(t,e){if(1&t){var n=u.Qb();u.Pb(0,"tr"),u.Pb(1,"th",10),u.zc(2,"Nombre "),u.Kb(3,"p-sortIcon",11),u.Ob(),u.Pb(4,"th",12),u.zc(5,"Estado "),u.Kb(6,"p-sortIcon",13),u.Ob(),u.Pb(7,"th",14),u.zc(8,"Acciones"),u.Ob(),u.Ob(),u.Pb(9,"tr"),u.Pb(10,"th"),u.Pb(11,"input",15),u.Xb("input",(function(t){return u.rc(n),u.Zb(),u.pc(9).filter(t.target.value,"placa","contains")})),u.Ob(),u.Ob(),u.Pb(12,"th"),u.Pb(13,"p-dropdown",16),u.Xb("onChange",(function(t){return u.rc(n),u.Zb(),u.pc(9).filter(t.value,"activo","equals")})),u.xc(14,X,2,1,"ng-template",17),u.Ob(),u.Ob(),u.Ob()}if(2&t){var i=u.Zb();u.yb(13),u.fc("options",i.statuses)("showClear",!0)}}function j(t,e){if(1&t){var n=u.Qb();u.Pb(0,"tr"),u.Pb(1,"td"),u.Pb(2,"span",18),u.zc(3,"Nombre "),u.Ob(),u.zc(4),u.Ob(),u.Pb(5,"td"),u.Pb(6,"span",18),u.zc(7,"Estado "),u.Ob(),u.zc(8),u.Ob(),u.Pb(9,"td",19),u.Pb(10,"p-button",20),u.Xb("click",(function(){u.rc(n);var t=e.$implicit;return u.Zb().mostrarModal(t.id)})),u.Ob(),u.Ob(),u.Ob()}if(2&t){var i=e.$implicit;u.yb(4),u.Ac(i.nombre),u.yb(4),u.Ac(1==i.activo?"Activo":"Inactivo")}}var $,J,K,N=function(){return[10,25,50]},Q=[{path:"",component:($=function(){function e(n,i,a){t(this,e),this.getService=n,this.toastCtrl=i,this.modalCtrl=a,this.url="clientes",this.clientes=[],this.statuses=[{label:"Activo",value:"true"},{label:"Inactivo",value:"false"}],this.cols=[{field:"nombre",header:"Nombre"},{field:"activo",header:"Estado"}]}return n(e,[{key:"ngOnInit",value:function(){this.obtenerClientes()}},{key:"obtenerClientes",value:function(){var t=this;this.getService.get(this.url).subscribe((function(e){return Object(l.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.success){t.next=4;break}this.clientes=e.message,t.next=8;break;case 4:return t.next=6,this.toastCtrl.create({message:e.message,position:"middle",buttons:[{text:"Aceptar",role:"cancel"}]});case 6:t.sent.present(),console.log(e.message);case 8:case"end":return t.stop()}}),t,this)})))}))}},{key:"mostrarModal",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:T,componentProps:{id:t},backdropDismiss:!1,cssClass:"long-modal"});case 2:return(n=e.sent).present(),e.next=6,n.onWillDismiss().then((function(t){null!=t.data&&t.data.success&&i.obtenerClientes()}));case 6:case"end":return e.stop()}}),e,this)})))}}]),e}(),$.\u0275fac=function(t){return new(t||$)(u.Jb(d.a),u.Jb(c.Q),u.Jb(c.J))},$.\u0275cmp=u.Db({type:$,selectors:[["app-clientes"]],decls:13,vars:7,consts:[["slot","start"],[1,"ion-padding"],["exportFilename","clientes","styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"columns","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["label","Agregar Nuevo","icon","pi pi-plus","iconPos","left",3,"click"],["label","Exportar a CSV","icon","pi pi-file-o","iconPos","left",3,"click"],["pSortableColumn","nombre"],["field","nombre"],["pSortableColumn","activo"],["field","activo"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Nombre",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],["pTemplate","item"],[1,"p-column-title"],[1,"action-column"],["label","Editar","icon","pi pi-pencil","iconPos","left",1,"primary-button",3,"click"]],template:function(t,e){1&t&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar"),u.Pb(2,"ion-buttons",0),u.Kb(3,"ion-menu-button"),u.Ob(),u.Pb(4,"ion-title"),u.zc(5," Clientes "),u.Ob(),u.Ob(),u.Kb(6,"app-user-menu"),u.Ob(),u.Pb(7,"ion-content",1),u.Pb(8,"p-table",2,3),u.xc(10,E,3,0,"ng-template",4),u.xc(11,A,15,2,"ng-template",5),u.xc(12,j,11,2,"ng-template",6),u.Ob(),u.Ob()),2&t&&(u.yb(8),u.fc("columns",e.cols)("value",e.clientes)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",u.hc(6,N)))},directives:[c.m,c.E,c.d,c.x,c.D,Z.a,c.g,h.e,v.b,g.a,h.d,h.c,P.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),$)}],D=((J=function e(){t(this,e)}).\u0275mod=u.Hb({type:J}),J.\u0275inj=u.Gb({factory:function(t){return new(t||J)},imports:[[s.i.forChild(Q)],s.i]}),J),B=a("m/q5"),G=((K=function e(){t(this,e)}).\u0275mod=u.Hb({type:K}),K.\u0275inj=u.Gb({factory:function(t){return new(t||K)},imports:[[o.b,r.e,c.G,D,h.f,P.b,g.b,B.a]]}),K)}}])}();