(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cDn4:function(t,e,n){"use strict";n.r(e),n.d(e,"CamionesPageModule",(function(){return B}));var o=n("ofXK"),a=n("3Pt+"),i=n("TEn/"),l=n("tyNb"),c=n("mrSG"),r=n("+Qoh"),s=n("BEOd"),b=n("fXoL"),p=n("BQIx"),d=n("ova0"),u=n("+nHt");let m=(()=>{class t extends s.a{constructor(t,e,n,o,a,i){super(t,e,n,o,a),this.getService=t,this.postService=e,this.putService=n,this.toastCtrl=o,this.modalCtrl=a,this.alertController=i,this.url="camiones",this.urlTaller="camiones/CambiarEstadoTaller",this.camion=new r.a,this.clicked=!1,this.disabledTaller=!1}ngOnInit(){null!=this.id&&super.consumirGet(this.url,this.id).then(t=>{this.camion=t})}guardar(){return Object(c.a)(this,void 0,void 0,(function*(){this.clicked=!0,null!=this.id?this.actualizarCamion():this.crearCamion()}))}crearCamion(){super.consumirPost(this.url,this.camion).then(t=>{this.camion=t,this.clicked=!1})}actualizarCamion(){super.consumirPut(this.url,this.id,this.camion).then(t=>{this.camion=t,this.clicked=!1})}EnviarTaller(){const t=Object.create(null,{consumirPut:{get:()=>super.consumirPut}});return Object(c.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({cssClass:"my-custom-class",header:"Advertencia!",message:"\xbfEstas seguro que deseas realizar esta acci\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Aceptar",handler:()=>{this.disabledTaller=!0,t.consumirPut.call(this,this.urlTaller,this.camion.id,null).then(t=>{this.disabledTaller=!1})}}]});yield e.present()}))}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(p.a),b.Jb(d.a),b.Jb(u.a),b.Jb(i.R),b.Jb(i.K),b.Jb(i.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-detalle-camion"]],inputs:{id:"id"},features:[b.vb],decls:37,vars:8,consts:[[1,"modal-title"],["fill","clear","color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"ion-text-right"],["size","6"],[1,"primary-button",3,"disabled","click"],["size","6",1,"ion-text-right"],[3,"disabled","click"]],template:function(t,e){1&t&&(b.Pb(0,"ion-header"),b.Pb(1,"ion-toolbar"),b.Pb(2,"ion-title"),b.Pb(3,"div",0),b.Pb(4,"span"),b.Ac(5,"Maestro Camiones"),b.Ob(),b.Pb(6,"ion-button",1),b.Xb("click",(function(){return e.dismiss(null)})),b.Kb(7,"ion-icon",2),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(8,"ion-content",3),b.Pb(9,"ion-item"),b.Pb(10,"ion-label"),b.Ac(11,"Placa"),b.Ob(),b.Pb(12,"ion-input",4),b.Xb("ngModelChange",(function(t){return e.camion.placa=t})),b.Ob(),b.Ob(),b.Pb(13,"ion-item"),b.Pb(14,"ion-label"),b.Ac(15,"Remolque"),b.Ob(),b.Pb(16,"ion-input",4),b.Xb("ngModelChange",(function(t){return e.camion.remolque=t})),b.Ob(),b.Ob(),b.Pb(17,"ion-item"),b.Pb(18,"ion-label"),b.Ac(19,"Camion Propio"),b.Ob(),b.Pb(20,"ion-checkbox",5),b.Xb("ngModelChange",(function(t){return e.camion.esPropio=t})),b.Ob(),b.Ob(),b.Pb(21,"ion-item"),b.Pb(22,"ion-label"),b.Ac(23,"Activo"),b.Ob(),b.Pb(24,"ion-checkbox",5),b.Xb("ngModelChange",(function(t){return e.camion.activo=t})),b.Ob(),b.Ob(),b.Pb(25,"ion-item"),b.Pb(26,"ion-label"),b.Ac(27,"En Taller"),b.Ob(),b.Pb(28,"ion-label",6),b.Ac(29),b.Ob(),b.Ob(),b.Pb(30,"ion-row"),b.Pb(31,"ion-col",7),b.Pb(32,"ion-button",8),b.Xb("click",(function(){return e.guardar()})),b.Ac(33,"Guardar"),b.Ob(),b.Ob(),b.Pb(34,"ion-col",9),b.Pb(35,"ion-button",10),b.Xb("click",(function(){return e.EnviarTaller()})),b.Ac(36),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&t&&(b.yb(12),b.gc("ngModel",e.camion.placa),b.yb(4),b.gc("ngModel",e.camion.remolque),b.yb(4),b.gc("ngModel",e.camion.esPropio),b.yb(4),b.gc("ngModel",e.camion.activo),b.yb(5),b.Bc(e.camion.estadoTaller?"Si":"No"),b.yb(3),b.gc("disabled",e.clicked),b.yb(3),b.gc("disabled",e.disabledTaller),b.yb(1),b.Bc(e.camion.estadoTaller?"Sacar del Taller":"Enviar al Taller"))},directives:[i.n,i.F,i.E,i.d,i.o,i.h,i.s,i.v,i.r,i.Q,a.h,a.j,i.f,i.b,i.B,i.g],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.center[_ngcontent-%COMP%]{text-align:center}"]}),t})();var h=n("RyMC"),P=n("rEr+"),O=n("7zfz"),f=n("jIHw"),g=n("arFO");function C(t,e){if(1&t){const t=b.Qb();b.Pb(0,"div",7),b.Pb(1,"p-button",8),b.Xb("click",(function(){return b.sc(t),b.Zb().mostrarModal(null)})),b.Ob(),b.Pb(2,"p-button",9),b.Xb("click",(function(){return b.sc(t),b.Zb(),b.qc(9).exportCSV()})),b.Ob(),b.Ob()}}function y(t,e){if(1&t&&(b.Pb(0,"span"),b.Ac(1),b.Ob()),2&t){const t=e.$implicit;b.yb(1),b.Bc(t.label)}}function v(t,e){if(1&t&&(b.Pb(0,"span"),b.Ac(1),b.Ob()),2&t){const t=e.$implicit;b.yb(1),b.Bc(t.label)}}function w(t,e){if(1&t&&(b.Pb(0,"span"),b.Ac(1),b.Ob()),2&t){const t=e.$implicit;b.yb(1),b.Bc(t.label)}}function A(t,e){if(1&t){const t=b.Qb();b.Pb(0,"tr"),b.Pb(1,"th",10),b.Ac(2,"Placa "),b.Kb(3,"p-sortIcon",11),b.Ob(),b.Pb(4,"th",12),b.Ac(5,"Remolque "),b.Kb(6,"p-sortIcon",13),b.Ob(),b.Pb(7,"th",14),b.Ac(8,"Propio "),b.Kb(9,"p-sortIcon",15),b.Ob(),b.Pb(10,"th",16),b.Ac(11,"Estado "),b.Kb(12,"p-sortIcon",17),b.Ob(),b.Pb(13,"th",18),b.Ac(14,"En taller "),b.Kb(15,"p-sortIcon",19),b.Ob(),b.Pb(16,"th",20),b.Ac(17,"Acciones"),b.Ob(),b.Ob(),b.Pb(18,"tr"),b.Pb(19,"th"),b.Pb(20,"input",21),b.Xb("input",(function(e){return b.sc(t),b.Zb(),b.qc(9).filter(e.target.value,"placa","contains")})),b.Ob(),b.Ob(),b.Pb(21,"th"),b.Pb(22,"input",22),b.Xb("input",(function(e){return b.sc(t),b.Zb(),b.qc(9).filter(e.target.value,"remolque","contains")})),b.Ob(),b.Ob(),b.Pb(23,"th"),b.Pb(24,"p-dropdown",23),b.Xb("onChange",(function(e){return b.sc(t),b.Zb(),b.qc(9).filter(e.value,"esPropio","equals")})),b.yc(25,y,2,1,"ng-template",24),b.Ob(),b.Ob(),b.Pb(26,"th"),b.Pb(27,"p-dropdown",25),b.Xb("onChange",(function(e){return b.sc(t),b.Zb(),b.qc(9).filter(e.value,"activo","equals")})),b.yc(28,v,2,1,"ng-template",24),b.Ob(),b.Ob(),b.Pb(29,"th"),b.Pb(30,"p-dropdown",26),b.Xb("onChange",(function(e){return b.sc(t),b.Zb(),b.qc(9).filter(e.value,"estadoTaller","equals")})),b.yc(31,w,2,1,"ng-template",24),b.Ob(),b.Ob(),b.Ob()}if(2&t){const t=b.Zb();b.yb(24),b.gc("options",t.statusesPropio)("showClear",!0),b.yb(3),b.gc("options",t.statuses)("showClear",!0),b.yb(3),b.gc("options",t.statusesPropio)("showClear",!0)}}function M(t,e){if(1&t){const t=b.Qb();b.Pb(0,"tr"),b.Pb(1,"td"),b.Pb(2,"span",27),b.Ac(3,"Placa "),b.Ob(),b.Ac(4),b.Ob(),b.Pb(5,"td"),b.Pb(6,"span",27),b.Ac(7,"Remolque "),b.Ob(),b.Ac(8),b.Ob(),b.Pb(9,"td"),b.Pb(10,"span",27),b.Ac(11,"Propio "),b.Ob(),b.Ac(12),b.Ob(),b.Pb(13,"td"),b.Pb(14,"span",27),b.Ac(15,"Estado "),b.Ob(),b.Ac(16),b.Ob(),b.Pb(17,"td"),b.Pb(18,"span",27),b.Ac(19,"En Taller "),b.Ob(),b.Ac(20),b.Ob(),b.Pb(21,"td",28),b.Pb(22,"p-button",29),b.Xb("click",(function(){b.sc(t);const n=e.$implicit;return b.Zb().mostrarModal(n.id)})),b.Ob(),b.Ob(),b.Ob()}if(2&t){const t=e.$implicit;b.yb(4),b.Bc(t.placa),b.yb(4),b.Bc(t.remolque),b.yb(4),b.Bc(1==t.esPropio?"Si":"No"),b.yb(4),b.Bc(1==t.activo?"Activo":"Inactivo"),b.yb(4),b.Bc(1==t.estadoTaller?"Si":"No")}}const x=function(){return[10,25,50]},T=[{path:"",component:(()=>{class t extends s.a{constructor(t,e,n){super(t,null,null,e,n),this.getService=t,this.toastCtrl=e,this.modalCtrl=n,this.url="camiones",this.camiones=[],this.statusesPropio=[{label:"Si",value:"true"},{label:"No",value:"false"}]}ngOnInit(){this.obtenerCamiones()}obtenerCamiones(){super.consumirGet(this.url).then(t=>{this.camiones=t})}mostrarModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:m,componentProps:{id:t},backdropDismiss:!1});e.present(),yield e.onWillDismiss().then(t=>{null!=t.data&&t.data.success&&this.obtenerCamiones()})}))}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(p.a),b.Jb(i.R),b.Jb(i.K))},t.\u0275cmp=b.Db({type:t,selectors:[["app-camiones"]],features:[b.vb],decls:13,vars:7,consts:[["slot","start"],[1,"ion-padding"],["exportFilename","camiones","styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"columns","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["label","Agregar Nuevo","icon","pi pi-plus","iconPos","left",3,"click"],["label","Exportar a CSV","icon","pi pi-file-o","iconPos","left",3,"click"],["pSortableColumn","placa"],["field","placa"],["pSortableColumn","remolque"],["field","remolque"],["pSortableColumn","esPropio"],["field","esPropio"],["pSortableColumn","activo"],["field","activo"],["pSortableColumn","en taller"],["field","estadoTaller"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Placa",1,"p-column-filter",3,"input"],["pInputText","","type","text","placeholder","Buscar por Remolque",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Propio",3,"options","showClear","onChange"],["pTemplate","item"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],["styleClass","p-column-filter","placeholder","Buscar por Taller",3,"options","showClear","onChange"],[1,"p-column-title"],[1,"action-column"],["label","Editar","icon","pi pi-pencil","iconPos","left",1,"primary-button",3,"click"]],template:function(t,e){1&t&&(b.Pb(0,"ion-header"),b.Pb(1,"ion-toolbar"),b.Pb(2,"ion-buttons",0),b.Kb(3,"ion-menu-button"),b.Ob(),b.Pb(4,"ion-title"),b.Ac(5," Camiones "),b.Ob(),b.Ob(),b.Kb(6,"app-user-menu"),b.Ob(),b.Pb(7,"ion-content",1),b.Pb(8,"p-table",2,3),b.yc(10,C,3,0,"ng-template",4),b.yc(11,A,32,6,"ng-template",5),b.yc(12,M,23,5,"ng-template",6),b.Ob(),b.Ob()),2&t&&(b.yb(8),b.gc("columns",e.cols)("value",e.camiones)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",b.ic(6,x)))},directives:[i.n,i.F,i.e,i.y,i.E,h.a,i.h,P.e,O.b,f.a,P.d,P.c,g.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[l.j.forChild(T)],l.j]}),t})();var q=n("m/q5");let B=(()=>{class t{}return t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({factory:function(e){return new(e||t)},imports:[[o.b,a.e,i.H,k,P.f,g.b,f.b,q.a]]}),t})()}}]);