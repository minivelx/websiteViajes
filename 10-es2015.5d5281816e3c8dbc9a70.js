(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{cDn4:function(t,e,o){"use strict";o.r(e),o.d(e,"CamionesPageModule",(function(){return q}));var i=o("ofXK"),n=o("3Pt+"),a=o("TEn/"),s=o("tyNb"),c=o("mrSG"),l=o("+Qoh"),r=o("fXoL"),b=o("BQIx"),p=o("ova0"),d=o("+nHt");let u=(()=>{class t{constructor(t,e,o,i,n){this.getService=t,this.postService=e,this.putService=o,this.toastCtrl=i,this.modalCtrl=n,this.url="camiones",this.camion=new l.a}ngOnInit(){null!=this.id&&this.getService.get(this.url,this.id).subscribe(t=>{t.success&&(this.camion=t.message)})}guardar(){return Object(c.a)(this,void 0,void 0,(function*(){null!=this.id?this.actualizarCamion():this.crearCamion()}))}crearCamion(){this.postService.post(this.url,this.camion).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:t.message,position:"middle",duration:t.success?3e3:0,color:t.success?"success":"danger",buttons:t.success?[]:[{text:"Aceptar",role:"cancel"}]})).present(),t.success&&this.dismiss(t)})),t=>Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:t,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]})).present()})))}actualizarCamion(){this.putService.put(this.url,this.id,this.camion).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:t.message,position:"middle",duration:t.success?3e3:0,color:t.success?"success":"danger",buttons:t.success?[]:[{text:"Aceptar",role:"cancel"}]})).present(),t.success&&this.dismiss(t)})),t=>Object(c.a)(this,void 0,void 0,(function*(){(yield this.toastCtrl.create({message:t,position:"middle",color:"danger",buttons:[{text:"Aceptar",role:"cancel"}]})).present()})))}dismiss(t){this.modalCtrl.dismiss(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b.a),r.Jb(p.a),r.Jb(d.a),r.Jb(a.Q),r.Jb(a.J))},t.\u0275cmp=r.Db({type:t,selectors:[["app-detalle-camion"]],inputs:{id:"id"},decls:27,vars:4,consts:[[1,"modal-title"],["fill","clear","color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"primary-button",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"ion-header"),r.Pb(1,"ion-toolbar"),r.Pb(2,"ion-title"),r.Pb(3,"div",0),r.Pb(4,"span"),r.zc(5,"Maestro Camiones"),r.Ob(),r.Pb(6,"ion-button",1),r.Xb("click",(function(){return e.dismiss(null)})),r.Kb(7,"ion-icon",2),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(8,"ion-content",3),r.Pb(9,"ion-item"),r.Pb(10,"ion-label"),r.zc(11,"Placa"),r.Ob(),r.Pb(12,"ion-input",4),r.Xb("ngModelChange",(function(t){return e.camion.placa=t})),r.Ob(),r.Ob(),r.Pb(13,"ion-item"),r.Pb(14,"ion-label"),r.zc(15,"Remolque"),r.Ob(),r.Pb(16,"ion-input",4),r.Xb("ngModelChange",(function(t){return e.camion.remolque=t})),r.Ob(),r.Ob(),r.Pb(17,"ion-item"),r.Pb(18,"ion-label"),r.zc(19,"Camion Propio"),r.Ob(),r.Pb(20,"ion-checkbox",5),r.Xb("ngModelChange",(function(t){return e.camion.esPropio=t})),r.Ob(),r.Ob(),r.Pb(21,"ion-item"),r.Pb(22,"ion-label"),r.zc(23,"Activo"),r.Ob(),r.Pb(24,"ion-checkbox",5),r.Xb("ngModelChange",(function(t){return e.camion.activo=t})),r.Ob(),r.Ob(),r.Pb(25,"ion-button",6),r.Xb("click",(function(){return e.guardar()})),r.zc(26,"Guardar"),r.Ob(),r.Ob()),2&t&&(r.yb(12),r.fc("ngModel",e.camion.placa),r.yb(4),r.fc("ngModel",e.camion.remolque),r.yb(4),r.fc("ngModel",e.camion.esPropio),r.yb(4),r.fc("ngModel",e.camion.activo))},directives:[a.m,a.E,a.D,a.c,a.n,a.g,a.r,a.u,a.q,a.P,n.h,n.j,a.e,a.a],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}"]}),t})();var m=o("e8h1"),h=o("RyMC"),P=o("rEr+"),f=o("7zfz"),g=o("jIHw"),O=o("arFO");function v(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",7),r.Pb(1,"p-button",8),r.Xb("click",(function(){return r.rc(t),r.Zb().mostrarModal(null)})),r.Ob(),r.Pb(2,"p-button",9),r.Xb("click",(function(){return r.rc(t),r.Zb(),r.pc(9).exportCSV()})),r.Ob(),r.Ob()}}function C(t,e){if(1&t&&(r.Pb(0,"span"),r.zc(1),r.Ob()),2&t){const t=e.$implicit;r.yb(1),r.Ac(t.label)}}function y(t,e){if(1&t&&(r.Pb(0,"span"),r.zc(1),r.Ob()),2&t){const t=e.$implicit;r.yb(1),r.Ac(t.label)}}function w(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"th",10),r.zc(2,"Placa "),r.Kb(3,"p-sortIcon",11),r.Ob(),r.Pb(4,"th",12),r.zc(5,"Remolque "),r.Kb(6,"p-sortIcon",13),r.Ob(),r.Pb(7,"th",14),r.zc(8,"Propio "),r.Kb(9,"p-sortIcon",15),r.Ob(),r.Pb(10,"th",16),r.zc(11,"Estado "),r.Kb(12,"p-sortIcon",17),r.Ob(),r.Pb(13,"th",18),r.zc(14,"Acciones"),r.Ob(),r.Ob(),r.Pb(15,"tr"),r.Pb(16,"th"),r.Pb(17,"input",19),r.Xb("input",(function(e){return r.rc(t),r.Zb(),r.pc(9).filter(e.target.value,"placa","contains")})),r.Ob(),r.Ob(),r.Pb(18,"th"),r.Pb(19,"input",20),r.Xb("input",(function(e){return r.rc(t),r.Zb(),r.pc(9).filter(e.target.value,"remolque","contains")})),r.Ob(),r.Ob(),r.Pb(20,"th"),r.Pb(21,"p-dropdown",21),r.Xb("onChange",(function(e){return r.rc(t),r.Zb(),r.pc(9).filter(e.value,"esPropio","equals")})),r.xc(22,C,2,1,"ng-template",22),r.Ob(),r.Ob(),r.Pb(23,"th"),r.Pb(24,"p-dropdown",23),r.Xb("onChange",(function(e){return r.rc(t),r.Zb(),r.pc(9).filter(e.value,"activo","equals")})),r.xc(25,y,2,1,"ng-template",22),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.Zb();r.yb(21),r.fc("options",t.statusesPropio)("showClear",!0),r.yb(3),r.fc("options",t.statuses)("showClear",!0)}}function x(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.Pb(2,"span",24),r.zc(3,"Placa "),r.Ob(),r.zc(4),r.Ob(),r.Pb(5,"td"),r.Pb(6,"span",24),r.zc(7,"Remolque "),r.Ob(),r.zc(8),r.Ob(),r.Pb(9,"td"),r.Pb(10,"span",24),r.zc(11,"Propio "),r.Ob(),r.zc(12),r.Ob(),r.Pb(13,"td"),r.Pb(14,"span",24),r.zc(15,"Estado "),r.Ob(),r.zc(16),r.Ob(),r.Pb(17,"td",25),r.Pb(18,"p-button",26),r.Xb("click",(function(){r.rc(t);const o=e.$implicit;return r.Zb().mostrarModal(o.id)})),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.yb(4),r.Ac(t.placa),r.yb(4),r.Ac(t.remolque),r.yb(4),r.Ac(1==t.esPropio?"Si":"No"),r.yb(4),r.Ac(1==t.activo?"Activo":"Inactivo")}}const M=function(){return[10,25,50]},z=[{path:"",component:(()=>{class t{constructor(t,e,o,i){this.getService=t,this.toastCtrl=e,this.modalCtrl=o,this.storage=i,this.url="camiones",this.camiones=[],this.statuses=[{label:"Activo",value:"true"},{label:"Inactivo",value:"false"}],this.statusesPropio=[{label:"Si",value:"true"},{label:"No",value:"false"}],this.cols=[{field:"placa",header:"Placa"},{field:"remolque",header:"Remolque"},{field:"esPropio",header:"Propio"},{field:"activo",header:"Estado"}]}ngOnInit(){this.obtenerCamiones()}obtenerCamiones(){this.getService.get(this.url).subscribe(t=>Object(c.a)(this,void 0,void 0,(function*(){t.success?this.camiones=t.message:((yield this.toastCtrl.create({message:t.message,position:"middle",buttons:[{text:"Aceptar",role:"cancel"}]})).present(),console.log(t.message))})))}mostrarModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=yield this.modalCtrl.create({component:u,componentProps:{id:t},backdropDismiss:!1});e.present(),yield e.onWillDismiss().then(t=>{null!=t.data&&t.data.success&&this.obtenerCamiones()})}))}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(b.a),r.Jb(a.Q),r.Jb(a.J),r.Jb(m.b))},t.\u0275cmp=r.Db({type:t,selectors:[["app-camiones"]],decls:13,vars:7,consts:[["slot","start"],[1,"ion-padding"],["exportFilename","camiones","styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"columns","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["label","Agregar Nuevo","icon","pi pi-plus","iconPos","left",3,"click"],["label","Exportar a CSV","icon","pi pi-file-o","iconPos","left",3,"click"],["pSortableColumn","placa"],["field","placa"],["pSortableColumn","remolque"],["field","remolque"],["pSortableColumn","esPropio"],["field","esPropio"],["pSortableColumn","activo"],["field","activo"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Placa",1,"p-column-filter",3,"input"],["pInputText","","type","text","placeholder","Buscar por Remolque",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Propio",3,"options","showClear","onChange"],["pTemplate","item"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],[1,"p-column-title"],[1,"action-column"],["label","Editar","icon","pi pi-pencil","iconPos","left",1,"primary-button",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"ion-header"),r.Pb(1,"ion-toolbar"),r.Pb(2,"ion-buttons",0),r.Kb(3,"ion-menu-button"),r.Ob(),r.Pb(4,"ion-title"),r.zc(5," Camiones "),r.Ob(),r.Ob(),r.Kb(6,"app-user-menu"),r.Ob(),r.Pb(7,"ion-content",1),r.Pb(8,"p-table",2,3),r.xc(10,v,3,0,"ng-template",4),r.xc(11,w,26,4,"ng-template",5),r.xc(12,x,19,4,"ng-template",6),r.Ob(),r.Ob()),2&t&&(r.yb(8),r.fc("columns",e.cols)("value",e.camiones)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",r.hc(6,M)))},directives:[a.m,a.E,a.d,a.x,a.D,h.a,a.g,P.e,f.b,g.a,P.d,P.c,O.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(z)],s.i]}),t})();var S=o("m/q5");let q=(()=>{class t{}return t.\u0275mod=r.Hb({type:t}),t.\u0275inj=r.Gb({factory:function(e){return new(e||t)},imports:[[i.b,n.e,a.G,k,P.f,O.b,g.b,S.a]]}),t})()}}]);