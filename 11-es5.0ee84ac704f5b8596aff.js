!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(o){var a=Object.getOwnPropertyDescriptor(o,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=l(t);if(e){var a=l(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cDn4:function(e,r,c){"use strict";c.r(r),c.d(r,"CamionesPageModule",(function(){return Z}));var s,b=c("ofXK"),u=c("3Pt+"),p=c("TEn/"),d=c("tyNb"),f=c("mrSG"),m=c("+Qoh"),h=c("BEOd"),P=c("fXoL"),O=c("BQIx"),g=c("ova0"),y=c("+nHt"),v=((s=function(e){a(c,e);var r=i(c);function c(e,n,o,a,i,l){var s;return t(this,c),(s=r.call(this,e,n,o,a,i)).getService=e,s.postService=n,s.putService=o,s.toastCtrl=a,s.modalCtrl=i,s.alertController=l,s.url="camiones",s.urlTaller="camiones/CambiarEstadoTaller",s.camion=new m.a,s.clicked=!1,s.disabledTaller=!1,s}return n(c,[{key:"ngOnInit",value:function(){var t=this;null!=this.id&&o(l(c.prototype),"consumirGet",this).call(this,this.url,this.id).then((function(e){t.camion=e}))}},{key:"guardar",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.clicked=!0,null!=this.id?this.actualizarCamion():this.crearCamion();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"crearCamion",value:function(){var t=this;o(l(c.prototype),"consumirPost",this).call(this,this.url,this.camion).then((function(e){t.camion=e,t.clicked=!1}))}},{key:"actualizarCamion",value:function(){var t=this;o(l(c.prototype),"consumirPut",this).call(this,this.url,this.id,this.camion).then((function(e){t.camion=e,t.clicked=!1}))}},{key:"EnviarTaller",value:function(){var t=this,e=Object.create(null,{consumirPut:{get:function(){return o(l(c.prototype),"consumirPut",t)}}});return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Advertencia!",message:"\xbfEstas seguro que deseas realizar esta acci\xf3n?",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(t){}},{text:"Aceptar",handler:function(){o.disabledTaller=!0,e.consumirPut.call(o,o.urlTaller,o.camion.id,null).then((function(t){o.disabledTaller=!1}))}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}}]),c}(h.a)).\u0275fac=function(t){return new(t||s)(P.Jb(O.a),P.Jb(g.a),P.Jb(y.a),P.Jb(p.R),P.Jb(p.K),P.Jb(p.a))},s.\u0275cmp=P.Db({type:s,selectors:[["app-detalle-camion"]],inputs:{id:"id"},features:[P.vb],decls:37,vars:8,consts:[[1,"modal-title"],["fill","clear","color","dark",3,"click"],["name","close-outline"],[1,"ion-padding"],["type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],[1,"ion-text-right"],["size","6"],[1,"primary-button",3,"disabled","click"],["size","6",1,"ion-text-right"],[3,"disabled","click"]],template:function(t,e){1&t&&(P.Pb(0,"ion-header"),P.Pb(1,"ion-toolbar"),P.Pb(2,"ion-title"),P.Pb(3,"div",0),P.Pb(4,"span"),P.Ac(5,"Maestro Camiones"),P.Ob(),P.Pb(6,"ion-button",1),P.Xb("click",(function(){return e.dismiss(null)})),P.Kb(7,"ion-icon",2),P.Ob(),P.Ob(),P.Ob(),P.Ob(),P.Ob(),P.Pb(8,"ion-content",3),P.Pb(9,"ion-item"),P.Pb(10,"ion-label"),P.Ac(11,"Placa"),P.Ob(),P.Pb(12,"ion-input",4),P.Xb("ngModelChange",(function(t){return e.camion.placa=t})),P.Ob(),P.Ob(),P.Pb(13,"ion-item"),P.Pb(14,"ion-label"),P.Ac(15,"Remolque"),P.Ob(),P.Pb(16,"ion-input",4),P.Xb("ngModelChange",(function(t){return e.camion.remolque=t})),P.Ob(),P.Ob(),P.Pb(17,"ion-item"),P.Pb(18,"ion-label"),P.Ac(19,"Camion Propio"),P.Ob(),P.Pb(20,"ion-checkbox",5),P.Xb("ngModelChange",(function(t){return e.camion.esPropio=t})),P.Ob(),P.Ob(),P.Pb(21,"ion-item"),P.Pb(22,"ion-label"),P.Ac(23,"Activo"),P.Ob(),P.Pb(24,"ion-checkbox",5),P.Xb("ngModelChange",(function(t){return e.camion.activo=t})),P.Ob(),P.Ob(),P.Pb(25,"ion-item"),P.Pb(26,"ion-label"),P.Ac(27,"En Taller"),P.Ob(),P.Pb(28,"ion-label",6),P.Ac(29),P.Ob(),P.Ob(),P.Pb(30,"ion-row"),P.Pb(31,"ion-col",7),P.Pb(32,"ion-button",8),P.Xb("click",(function(){return e.guardar()})),P.Ac(33,"Guardar"),P.Ob(),P.Ob(),P.Pb(34,"ion-col",9),P.Pb(35,"ion-button",10),P.Xb("click",(function(){return e.EnviarTaller()})),P.Ac(36),P.Ob(),P.Ob(),P.Ob(),P.Ob()),2&t&&(P.yb(12),P.gc("ngModel",e.camion.placa),P.yb(4),P.gc("ngModel",e.camion.remolque),P.yb(4),P.gc("ngModel",e.camion.esPropio),P.yb(4),P.gc("ngModel",e.camion.activo),P.yb(5),P.Bc(e.camion.estadoTaller?"Si":"No"),P.yb(3),P.gc("disabled",e.clicked),P.yb(3),P.gc("disabled",e.disabledTaller),P.yb(1),P.Bc(e.camion.estadoTaller?"Sacar del Taller":"Enviar al Taller"))},directives:[p.n,p.F,p.E,p.d,p.o,p.h,p.s,p.v,p.r,p.Q,u.h,u.j,p.f,p.b,p.B,p.g],styles:[".modal-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.modal-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center}.center[_ngcontent-%COMP%]{text-align:center}"]}),s),C=c("RyMC"),w=c("rEr+"),k=c("7zfz"),A=c("jIHw"),x=c("arFO");function M(t,e){if(1&t){var n=P.Qb();P.Pb(0,"div",7),P.Pb(1,"p-button",8),P.Xb("click",(function(){return P.sc(n),P.Zb().mostrarModal(null)})),P.Ob(),P.Pb(2,"p-button",9),P.Xb("click",(function(){return P.sc(n),P.Zb(),P.qc(9).exportCSV()})),P.Ob(),P.Ob()}}function T(t,e){if(1&t&&(P.Pb(0,"span"),P.Ac(1),P.Ob()),2&t){var n=e.$implicit;P.yb(1),P.Bc(n.label)}}function R(t,e){if(1&t&&(P.Pb(0,"span"),P.Ac(1),P.Ob()),2&t){var n=e.$implicit;P.yb(1),P.Bc(n.label)}}function j(t,e){if(1&t&&(P.Pb(0,"span"),P.Ac(1),P.Ob()),2&t){var n=e.$implicit;P.yb(1),P.Bc(n.label)}}function q(t,e){if(1&t){var n=P.Qb();P.Pb(0,"tr"),P.Pb(1,"th",10),P.Ac(2,"Placa "),P.Kb(3,"p-sortIcon",11),P.Ob(),P.Pb(4,"th",12),P.Ac(5,"Remolque "),P.Kb(6,"p-sortIcon",13),P.Ob(),P.Pb(7,"th",14),P.Ac(8,"Propio "),P.Kb(9,"p-sortIcon",15),P.Ob(),P.Pb(10,"th",16),P.Ac(11,"Estado "),P.Kb(12,"p-sortIcon",17),P.Ob(),P.Pb(13,"th",18),P.Ac(14,"En taller "),P.Kb(15,"p-sortIcon",19),P.Ob(),P.Pb(16,"th",20),P.Ac(17,"Acciones"),P.Ob(),P.Ob(),P.Pb(18,"tr"),P.Pb(19,"th"),P.Pb(20,"input",21),P.Xb("input",(function(t){return P.sc(n),P.Zb(),P.qc(9).filter(t.target.value,"placa","contains")})),P.Ob(),P.Ob(),P.Pb(21,"th"),P.Pb(22,"input",22),P.Xb("input",(function(t){return P.sc(n),P.Zb(),P.qc(9).filter(t.target.value,"remolque","contains")})),P.Ob(),P.Ob(),P.Pb(23,"th"),P.Pb(24,"p-dropdown",23),P.Xb("onChange",(function(t){return P.sc(n),P.Zb(),P.qc(9).filter(t.value,"esPropio","equals")})),P.yc(25,T,2,1,"ng-template",24),P.Ob(),P.Ob(),P.Pb(26,"th"),P.Pb(27,"p-dropdown",25),P.Xb("onChange",(function(t){return P.sc(n),P.Zb(),P.qc(9).filter(t.value,"activo","equals")})),P.yc(28,R,2,1,"ng-template",24),P.Ob(),P.Ob(),P.Pb(29,"th"),P.Pb(30,"p-dropdown",26),P.Xb("onChange",(function(t){return P.sc(n),P.Zb(),P.qc(9).filter(t.value,"estadoTaller","equals")})),P.yc(31,j,2,1,"ng-template",24),P.Ob(),P.Ob(),P.Ob()}if(2&t){var o=P.Zb();P.yb(24),P.gc("options",o.statusesPropio)("showClear",!0),P.yb(3),P.gc("options",o.statuses)("showClear",!0),P.yb(3),P.gc("options",o.statusesPropio)("showClear",!0)}}function E(t,e){if(1&t){var n=P.Qb();P.Pb(0,"tr"),P.Pb(1,"td"),P.Pb(2,"span",27),P.Ac(3,"Placa "),P.Ob(),P.Ac(4),P.Ob(),P.Pb(5,"td"),P.Pb(6,"span",27),P.Ac(7,"Remolque "),P.Ob(),P.Ac(8),P.Ob(),P.Pb(9,"td"),P.Pb(10,"span",27),P.Ac(11,"Propio "),P.Ob(),P.Ac(12),P.Ob(),P.Pb(13,"td"),P.Pb(14,"span",27),P.Ac(15,"Estado "),P.Ob(),P.Ac(16),P.Ob(),P.Pb(17,"td"),P.Pb(18,"span",27),P.Ac(19,"En Taller "),P.Ob(),P.Ac(20),P.Ob(),P.Pb(21,"td",28),P.Pb(22,"p-button",29),P.Xb("click",(function(){P.sc(n);var t=e.$implicit;return P.Zb().mostrarModal(t.id)})),P.Ob(),P.Ob(),P.Ob()}if(2&t){var o=e.$implicit;P.yb(4),P.Bc(o.placa),P.yb(4),P.Bc(o.remolque),P.yb(4),P.Bc(1==o.esPropio?"Si":"No"),P.yb(4),P.Bc(1==o.activo?"Activo":"Inactivo"),P.yb(4),P.Bc(1==o.estadoTaller?"Si":"No")}}var _,S,B,X=function(){return[10,25,50]},I=[{path:"",component:(_=function(e){a(c,e);var r=i(c);function c(e,n,o){var a;return t(this,c),(a=r.call(this,e,null,null,n,o)).getService=e,a.toastCtrl=n,a.modalCtrl=o,a.url="camiones",a.camiones=[],a.statusesPropio=[{label:"Si",value:"true"},{label:"No",value:"false"}],a}return n(c,[{key:"ngOnInit",value:function(){this.obtenerCamiones()}},{key:"obtenerCamiones",value:function(){var t=this;o(l(c.prototype),"consumirGet",this).call(this,this.url).then((function(e){t.camiones=e}))}},{key:"mostrarModal",value:function(t){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.modalCtrl.create({component:v,componentProps:{id:t},backdropDismiss:!1});case 2:return(n=e.sent).present(),e.next=6,n.onWillDismiss().then((function(t){null!=t.data&&t.data.success&&o.obtenerCamiones()}));case 6:case"end":return e.stop()}}),e,this)})))}}]),c}(h.a),_.\u0275fac=function(t){return new(t||_)(P.Jb(O.a),P.Jb(p.R),P.Jb(p.K))},_.\u0275cmp=P.Db({type:_,selectors:[["app-camiones"]],features:[P.vb],decls:13,vars:7,consts:[["slot","start"],[1,"ion-padding"],["exportFilename","camiones","styleClass","p-datatable-striped p-datatable-responsive-demo","currentPageReportTemplate","Mostrando {first} a {last} de {totalRecords} registros",3,"columns","value","paginator","rows","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"p-d-flex"],["label","Agregar Nuevo","icon","pi pi-plus","iconPos","left",3,"click"],["label","Exportar a CSV","icon","pi pi-file-o","iconPos","left",3,"click"],["pSortableColumn","placa"],["field","placa"],["pSortableColumn","remolque"],["field","remolque"],["pSortableColumn","esPropio"],["field","esPropio"],["pSortableColumn","activo"],["field","activo"],["pSortableColumn","en taller"],["field","estadoTaller"],["rowspan","2",1,"action-column"],["pInputText","","type","text","placeholder","Buscar por Placa",1,"p-column-filter",3,"input"],["pInputText","","type","text","placeholder","Buscar por Remolque",1,"p-column-filter",3,"input"],["styleClass","p-column-filter","placeholder","Buscar por Propio",3,"options","showClear","onChange"],["pTemplate","item"],["styleClass","p-column-filter","placeholder","Buscar por Estado",3,"options","showClear","onChange"],["styleClass","p-column-filter","placeholder","Buscar por Taller",3,"options","showClear","onChange"],[1,"p-column-title"],[1,"action-column"],["label","Editar","icon","pi pi-pencil","iconPos","left",1,"primary-button",3,"click"]],template:function(t,e){1&t&&(P.Pb(0,"ion-header"),P.Pb(1,"ion-toolbar"),P.Pb(2,"ion-buttons",0),P.Kb(3,"ion-menu-button"),P.Ob(),P.Pb(4,"ion-title"),P.Ac(5," Camiones "),P.Ob(),P.Ob(),P.Kb(6,"app-user-menu"),P.Ob(),P.Pb(7,"ion-content",1),P.Pb(8,"p-table",2,3),P.yc(10,M,3,0,"ng-template",4),P.yc(11,q,32,6,"ng-template",5),P.yc(12,E,23,5,"ng-template",6),P.Ob(),P.Ob()),2&t&&(P.yb(8),P.gc("columns",e.cols)("value",e.camiones)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",P.ic(6,X)))},directives:[p.n,p.F,p.e,p.y,p.E,C.a,p.h,w.e,k.b,A.a,w.d,w.c,x.a],styles:["[_nghost-%COMP%]     .p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{display:none}.p-d-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.action-column[_ngcontent-%COMP%]{text-align:center!important}@media screen and (max-width:40rem){[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tfoot>tr>td, [_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-thead>tr>th{display:none!important}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td{text-align:left;display:block;width:100%;float:left;clear:left;border:0}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td .p-column-title{padding:.4rem;min-width:30%;display:inline-block;margin:-.4em 1em -.4em -.4rem;font-weight:700}[_nghost-%COMP%]     .p-datatable.p-datatable-responsive-demo .p-datatable-tbody>tr>td:last-child{border-bottom:1px solid var(--surface-d)}}"]}),_)}],J=((S=function e(){t(this,e)}).\u0275mod=P.Hb({type:S}),S.\u0275inj=P.Gb({factory:function(t){return new(t||S)},imports:[[d.j.forChild(I)],d.j]}),S),K=c("m/q5"),Z=((B=function e(){t(this,e)}).\u0275mod=P.Hb({type:B}),B.\u0275inj=P.Gb({factory:function(t){return new(t||B)},imports:[[b.b,u.e,p.H,J,w.f,x.b,A.b,K.a]]}),B)}}])}();